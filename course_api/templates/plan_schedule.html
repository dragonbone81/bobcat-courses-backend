{#{% extends 'base.html' %}#}
{#{% load static from staticfiles %}#}
{#{% block imports %}#}
{#    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>#}
{#    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootbox.js/4.4.0/bootbox.min.js"></script>#}
{#    <script src="https://cdnjs.cloudflare.com/ajax/libs/mouse0270-bootstrap-notify/3.1.7/bootstrap-notify.min.js"></script>#}
{#    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet"/>#}
{#    <link href="{% static "css/select2-bootstrap4.min.css" %}" rel="stylesheet"/>#}
{#    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css" rel="stylesheet"/>#}
{#    <link rel="stylesheet"#}
{#          href="{% static "css/bootstrap-select.min.css" %}">#}
{#    <script src="{% static "js/bootstrap-select.min.js" %}"></script>#}
{#    <link href="{% static "css/loading.css" %}" rel="stylesheet"/>#}
{#    <link href="{% static "css/loading-btn.css" %}" rel="stylesheet"/>#}
{##}
{#    <style>#}
{#        tr {#}
{#            cursor: pointer;#}
{#        }#}
{##}
{#        .td-course {#}
{#            -webkit-box-shadow: 2px 2px 3px grey;#}
{#            -moz-box-shadow: 2px 2px 3px grey;#}
{#            box-shadow: 2px 2px 3px grey;#}
{#        }#}
{##}
{#        th {#}
{#            width: 150px;#}
{#            min-width: 40px;#}
{#        }#}
{##}
{#        @media (max-width: 600px) {#}
{#            #top_div {#}
{#                padding: 0;#}
{#                padding-top: 10px;#}
{#                padding-bottom: 10px;#}
{#            }#}
{##}
{#            #course_id_div, #time_id_td {#}
{#                font-size: smaller;#}
{#            }#}
{##}
{#            #schedule_span_append, #schedule_span {#}
{#                font-size: 0.86em;#}
{#                font-weight: bold;#}
{#                padding: 0 5px 0 5px;#}
{#            }#}
{##}
{#            #button_forward_1, #button_back_1 {#}
{#                padding-left: 15px;#}
{#                padding-right: 15px#}
{#            }#}
{##}
{#            .input_buttons {#}
{#                padding: 5px;#}
{#                font-size: 0.945em;#}
{#            }#}
{#        }#}
{##}
{#        @media (min-width: 600px) {#}
{#            #top_div {#}
{#                padding: 20px;#}
{#                padding-top: 10px;#}
{#            }#}
{##}
{#            #time_id_td {#}
{#                font-size: medium;#}
{#            }#}
{##}
{#            #course_id_div {#}
{#                font-size: large;#}
{#            }#}
{##}
{#            #schedule_span_append, #schedule_span {#}
{#                font-size: large;#}
{#            }#}
{##}
{#            #button_forward_1, #button_back_1 {#}
{#                padding-left: 25px;#}
{#                padding-right: 25px;#}
{#                font-size: x-large;#}
{#            }#}
{##}
{#            .input_buttons {#}
{#                padding: 7px;#}
{#                font-size: 17px;#}
{#            }#}
{#        }#}
{##}
{#        #top_div {#}
{#            margin: 10px auto;#}
{#            background-color: rgba(255, 255, 255, 0.95);#}
{#            padding: 10px 40px 40px 40px;#}
{#            border-radius: 4px;#}
{#            color: #505e6c;#}
{#            box-shadow: 1px 1px 5px rgba(0, 0, 0, 0.1);#}
{#        }#}
{##}
{#        @media (max-width: 620px) {#}
{#            #top_div {#}
{#                margin: 5px -10px 5px -10px;#}
{#                background-color: #ffffff;#}
{#                padding: 10px 10px 10px 10px;#}
{#                border-radius: 4px;#}
{#                color: #505e6c;#}
{#                box-shadow: 1px 1px 5px rgba(0, 0, 0, 0.1);#}
{#            }#}
{#        }#}
{##}
{#        .dropdown.bootstrap-select.show-tick.input-group-btn.form-control {#}
{#            border: solid #b6b6b6 0.1em;#}
{#        }#}
{##}
{#        @-moz-document url-prefix() {#}
{#            #course_id_div {#}
{#                word-break: break-all;#}
{#            }#}
{#        }#}
{##}
{#        .link-desc:hover {#}
{#            color: #000000;#}
{#        }#}
{##}
{#        .link-desc {#}
{#            color: #323232;#}
{#            font-size: 20px;#}
{#            cursor: pointer;#}
{#        }#}
{#    </style>#}
{#{% endblock %}#}
{##}
{#{% block preview_title %}Schedule Search{% endblock %}#}
{#{% block title %}Schedule Search {% endblock %}#}
{#{% block content %}#}
{#    <div class="container"#}
{#         style="max-width: 1200px; text-align: center">#}
{#        <div id="top_div">#}
{#            <div>#}
{#                <h5>Plan Schedules</h5>#}
{#                <form method="post" id="class_form">#}
{#                    {% csrf_token %}#}
{#                    <div class="form-row align-items-center">#}
{#                        <div class="form-inline" style="padding: 5px;">#}
{#                            <div class="input-group input-group-sm">#}
{#                                <select class="form-control" id="term" name="term" required>#}
{#                                    <option value="201830" selected>Fall 2018</option>#}
{#                                    <option value="201810">Spring 2018</option>#}
{#                                    <option value="201820">Summer 2018</option>#}
{#                                </select>#}
{#                            </div>#}
{#                        </div>#}
{#                        <div class="col-lg-6 col-md-6 col-sm-7">#}
{#                            <div class="input-group input-group-sm">#}
{#                                <select id="courses" class="js-example-basic-single" name="course_list"#}
{#                                        multiple="multiple"#}
{#                                        style="width: 100%;" required>#}
{#                                </select>#}
{#                            </div>#}
{#                        </div>#}
{#                        <script>#}
{#                            $('.js-example-basic-single').select2({#}
{#                                placeholder: "Search for Classes",#}
{#                                width: 'resolve',#}
{#                                theme: "bootstrap4",#}
{#                                ajax: {#}
{#                                    url: '/api/courses/course-search/',#}
{#                                    data: function (params) {#}
{#                                        return {#}
{#                                            course: params.term,#}
{#                                            term: $('#term').val()#}
{#                                        };#}
{#                                    },#}
{#                                    delay: 0,#}
{#                                    processResults: function (data) {#}
{#                                        var results = [];#}
{#                                        if (data) {#}
{#                                            data.forEach(function (course) {#}
{#                                                results.push({#}
{#                                                    id: course.name,#}
{#                                                    text: course.name + ": " + course.description#}
{#                                                })#}
{#                                            });#}
{#                                        }#}
{#                                        return {#}
{#                                            results: results#}
{#                                        };#}
{#                                    }#}
{#                                },#}
{#                                templateSelection: formatSelection#}
{#                            });#}
{##}
{#                            function formatSelection(course) {#}
{#                                return course.id;#}
{#                            }#}
{#                        </script>#}
{#                    </div>#}
{##}
{#                    <div class="form-row align-items-center">#}
{#                        <div class="col-auto form-inline" style="padding: 5px;">#}
{#                            <div class="input-group input-group-sm">#}
{#                                <select class="form-control" id="earliest" name="earliest_time" required>#}
{#                                    <option selected value="any">Earliest?</option>#}
{#                                    <option value="800">8:00am</option>#}
{#                                    <option value="830">8:30am</option>#}
{#                                    <option value="900">9:00am</option>#}
{#                                    <option value="930">9:30am</option>#}
{#                                    <option value="1000">10:00am</option>#}
{#                                    <option value="1030">10:30am</option>#}
{#                                    <option value="1100">11:00am</option>#}
{#                                    <option value="1130">11:30am</option>#}
{#                                </select>#}
{#                            </div>#}
{#                        </div>#}
{#                        <div class="col-auto form-inline" style="padding: 5px;">#}
{#                            <div class="input-group input-group-sm">#}
{#                                <select class="form-control" id="latest" name="latest_time" required>#}
{#                                    <option selected value="any">Latest?</option>#}
{#                                    <option value="1700">5:00pm</option>#}
{#                                    <option value="1730">5:30pm</option>#}
{#                                    <option value="1800">6:00pm</option>#}
{#                                    <option value="1830">6:30pm</option>#}
{#                                    <option value="1900">7:00pm</option>#}
{#                                    <option value="1930">7:30pm</option>#}
{#                                    <option value="2000">8:00pm</option>#}
{#                                    <option value="2030">8:30pm</option>#}
{#                                </select>#}
{#                            </div>#}
{#                        </div>#}
{#                        <div class="col-auto form-inline" style="padding: 5px;">#}
{#                            <div class="input-group input-group-sm">#}
{#                                <select class="selectpicker form-control" name="filters" id="filters" multiple#}
{#                                        data-width="180px">#}
{#                                    <optgroup class="gaps" label="Class Gaps" data-max-options="1">#}
{#                                        <option value="gaps_min">Min Gaps</option>#}
{#                                        <option value="gaps_max">Max Gaps</option>#}
{#                                    </optgroup>#}
{#                                    <optgroup class="days" label="Days" data-max-options="1">#}
{#                                        <option value="min_days">Min Days</option>#}
{#                                        <option value="max_days">Max Days</option>#}
{#                                    </optgroup>#}
{#                                    <optgroup class="search_full" label="Full Schedules" data-max-options="1">#}
{#                                        <option value="search_full">Show Full</option>#}
{#                                    </optgroup>#}
{#                                </select>#}
{#                            </div>#}
{#                        </div>#}
{##}
{#                        <div class="col-auto form-inline"#}
{#                             style="padding: 5px; padding-left: 0; padding-top: 0;padding-right: 0">#}
{#                            <div class="col-auto" style="padding: 5px;padding-right: 2px">#}
{#                                <button class="btn btn-success input_buttons" type="button" id="submit_b"#}
{#                                        onclick="submit_form(this.form)">Get Schedules#}
{#                                </button>#}
{#                            </div>#}
{#                            <div class="col-auto" style="padding: 5px;padding-left: 2px; padding-right: 2px" hidden#}
{#                                 id="save_sched">#}
{#                            <span class="d-inline-block" tabindex="0"#}
{#                                  {% if not request.user.is_authenticated %}data-toggle="tooltip"#}
{#                                  title="Login to save schedule"{% endif %}>#}
{#                              <button class="btn btn-info input_buttons" type="button"#}
{#                                      {% if not request.user.is_authenticated %}style="pointer-events: none;min-width: 80px"#}
{#                                      disabled{% endif %} style="min-width: 80px"#}
{#                                      onclick="class_form_submit(this.form)">#}
{#                                  Save#}
{#                              </button>#}
{#                            </span>#}
{#                            </div>#}
{#                            <div class="col-auto" style="padding: 5px; padding-left: 2px;padding-right: 2px" hidden#}
{#                                 id="sections_info_button_div">#}
{#                                <button class="btn btn-info input_buttons" type="button" id="schedule_info_button"#}
{#                                        onclick="switch_to_sections()">Sections#}
{#                                </button>#}
{#                            </div>#}
{#                            <div hidden>#}
{#                                <div class="col-auto" style="padding: 5px; padding-left: 2px;padding-right: 2px" hidden#}
{#                                     id="register">#}
{#                                    <button class="btn btn-warning input_buttons" type="button" id="register"#}
{#                                            name="register"#}
{#                                            data-toggle="modal" data-target="#register_modal" disabled>Register#}
{#                                    </button>#}
{#                                </div>#}
{#                            </div>#}
{#                        </div>#}
                        {#                    <div class="btn-group">#}
                        {#                                <button type="button" onclick="submit_form(this.form)" class="btn btn-info">Get#}
                        {#                                    Schedules#}
                        {#                                </button>#}
                        {#                                <button type="button" class="btn btn-info dropdown-toggle dropdown-toggle-split"#}
                        {#                                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">#}
                        {#                                    <span class="sr-only">Toggle Dropdown</span>#}
                        {#                                </button>#}
                        {#                                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">#}
                        {#                                    <button class="dropdown-item"#}
                        {#                                            type="button" onclick="class_form_submit(this.form)"#}
                        {#                                            {% if not request.user.is_authenticated %}disabled{% endif %}>#}
                        {#                                        Save#}
                        {#                                    </button>#}
                        {#                                    <button class="dropdown-item" type="button" data-toggle="modal"#}
                        {#                                            data-target="#register_modal">Register#}
                        {#                                    </button>#}
                        {#                                </div>#}
                        {#                            </div>#}
{#                    </div>#}
{#                </form>#}
{#                <div class="modal fade"#}
{#                     id="register_modal"#}
{#                     tabindex="-1"#}
{#                     role="dialog"#}
{#                     aria-labelledby="register_modal"#}
{#                     aria-hidden="true">#}
{#                    <div class="modal-dialog" role="document">#}
{#                        <div class="modal-content">#}
{#                            <div class="modal-header">#}
{#                                <h5 class="modal-title">Register with CAS</h5>#}
{#                                <button type="button" class="close"#}
{#                                        data-dismiss="modal"#}
{#                                        aria-label="Close">#}
{#                                    <span aria-hidden="true">&times;</span>#}
{#                                </button>#}
{#                            </div>#}
{#                            <div class="modal-body" style="margin: auto">#}
{#                                This will register your for the currently selected#}
{#                                classes#}
{#                                (list#}
{#                                below).<br>#}
{#                                You will need to provide us with your UCMerced#}
{#                                username#}
{#                                (not#}
{#                                email)#}
{#                                and password. Yes the one for#}
{#                                CatCourses.<br>#}
{#                                <u style="font-size: large"><b>Once you have registered for the classes PLEASE go to#}
{#                                    MyRegistration to double#}
{#                                    check.</b></u>#}
{#                                <br><br>#}
{#                                <i>You will be registered for these#}
{#                                    courses: </i><br>#}
{#                                <div id="courses_reg_list">#}
{#                                </div>#}
{#                                <form class="px-4 py-3"#}
{#                                      id="register_form" action="">#}
{#                                    {% csrf_token %}#}
{#                                    <div class="form-group">#}
{#                                        <label for="username">Username</label>#}
{#                                        <input type="text"#}
{#                                               class="form-control"#}
{#                                               placeholder="Username"#}
{#                                               name="username" required>#}
{#                                    </div>#}
{#                                    <div class="form-group">#}
{#                                        <label for="password">Password</label>#}
{#                                        <input type="password"#}
{#                                               class="form-control"#}
{#                                               placeholder="Password"#}
{#                                               name="password" required>#}
{#                                    </div>#}
{#                                    <button id="register_button"#}
{#                                            type="submit"#}
{#                                            class="btn btn-warning ld-ext-right">#}
{#                                        Register#}
{#                                        <i class="ld ld-ring ld-spin"></i>#}
{#                                    </button>#}
{#                                </form>#}
{#                                <script>#}
{#                                    $("#register_form").submit(function (e) {#}
{#                                        $("#register_button").addClass('running');#}
{#                                        e.preventDefault();#}
{#                                        var url = "/api/courses/course-register/"; // the script where you handle the form input.#}
{##}
{#                                        var data = $(this).serializeArray();#}
{#                                        data.push({name: "crns", value: all_crns[current_id]}, {#}
{#                                            name: "term",#}
{#                                            value: course_list_info[current_id][0].term#}
{#                                        });#}
{#                                        $.ajax({#}
{#                                            type: "POST",#}
{#                                            url: url,#}
{#                                            data: data, // serializes the form's elements.#}
{#                                            success: function (data) {#}
{#                                                $("#register_button").removeClass('running');#}
{#                                                var message = {};#}
{#                                                if (data.login) {#}
{#                                                    message.type = 'danger';#}
{#                                                    message.message = 'Your username or password was incorrect';#}
{#                                                    message.main = '';#}
{#                                                }#}
{#                                                if (data.response) {#}
{#                                                    if (data.response === 'reg_time_less') {#}
{#                                                        message.type = 'warning';#}
{#                                                        message.message = 'Too early. ' + data.reg_time;#}
{#                                                        message.main = '';#}
{#                                                    }#}
{#                                                    if (data.response === 'reg_time_almost') {#}
{#                                                        message.type = 'warning';#}
{#                                                        message.message = 'Your registration time is just about here, try in 30 seconds :)';#}
{#                                                        message.main = '';#}
{#                                                    }#}
{#                                                    if (data.response === 'prereq') {#}
{#                                                        message.type = 'warning';#}
{#                                                        message.message = data.message;#}
{#                                                        message.main = '';#}
{#                                                    }#}
{#                                                    if (data.response === 'course_full') {#}
{#                                                        message.type = 'warning';#}
{#                                                        message.message = data.message;#}
{#                                                        message.main = '';#}
{#                                                    }#}
{#                                                    if (data.response === 'fail') {#}
{#                                                        message.type = 'danger';#}
{#                                                        message.message = 'Not sure what happened :( try again or copy the CRN\'s bellow and register manually';#}
{#                                                        message.main = '';#}
{#                                                    }#}
{#                                                    if (data.response === 'success') {#}
{#                                                        message.type = 'success';#}
{#                                                        message.message = 'You have been successfully registered!';#}
{#                                                        message.main = 'Please go to MyRegistration to check :)';#}
{#                                                    }#}
{#                                                }#}
{#                                                $(function () {#}
{#                                                    $("#register_modal").modal('hide');#}
{#                                                    $.notify({#}
{#                                                        // options#}
{#                                                        title: message.message + '<br>',#}
{#                                                        message: message.main#}
{#                                                    }, {#}
{#                                                        // settings#}
{#                                                        type: message.type,#}
{#                                                        placement: {#}
{#                                                            from: "top",#}
{#                                                            align: "right"#}
{#                                                        },#}
{#                                                        offset: 5#}
{#                                                    });#}
{#                                                });#}
{#                                            }#}
{#                                        });#}
{#                                    });#}
{#                                </script>#}
{#                            </div>#}
{#                        </div>#}
{#                    </div>#}
{#                </div>#}
{##}
{#            </div>#}
            {#            <div onclick="about()" style="text-align: left; max-width: 300px">#}
            {#                <small>Have any suggestions? Let us know here. <i class="fas fa-external-link-alt"></i></small>#}
            {#                <script>#}
            {#                    function about() {#}
            {#                        window.location.href = "/app/bobcat-courses/about";#}
            {#                    }#}
            {#                </script>#}
            {#            </div>#}
{#            <div class="input-group input-group-sm mb-3 btn-block" id="navigate_buttons" hidden>#}
{#                <div class="input-group-prepend">#}
{#                    <span class="input-group-text" id="schedule_span">Schedule 1</span>#}
{#                </div>#}
{#                <div class="input-group-append">#}
{#                    <button id="button_back_5" class="btn btn-outline-primary" aria-label="Small"#}
{#                            type="button"#}
{#                            onclick="toggle_tables('back', 5)"><i#}
{#                            class="fa fa-angle-double-left"></i>#}
{#                    </button>#}
{#                </div>#}
{#                <div class="input-group-append">#}
{#                    <button id="button_back_1" class="btn btn-outline-primary" aria-label="Small"#}
{#                            type="button"#}
{#                            onclick="toggle_tables('back', 1)"><i#}
{#                            class="fa fa-arrow-left"></i>#}
{#                    </button>#}
{#                </div>#}
{#                <div class="input-group-append">#}
{#                    <button id="button_forward_1" class="btn btn-outline-primary" aria-label="Small"#}
{#                            type="button"#}
{#                            onclick="toggle_tables('forward', 1)">#}
{#                        <i#}
{#                                class="fa fa-arrow-right"></i>#}
{#                    </button>#}
{#                </div>#}
{#                <div class="input-group-append">#}
{#                    <button id="button_forward_5" class="btn btn-outline-primary" aria-label="Small"#}
{#                            type="button"#}
{#                            onclick="toggle_tables('forward', 5)"><i#}
{#                            class="fa fa-angle-double-right"></i>#}
{#                    </button>#}
{#                </div>#}
{#                <div class="input-group-append schedule_span">#}
{#                    <span class="input-group-text" id="schedule_span_append"#}
{#                    >Total: 0</span>#}
{#                </div>#}
{##}
{##}
{#            </div>#}
{#            <div id="main_div" class="row">#}
{#            </div>#}
{#            <div id="section_div" style="display: none;">#}
{##}
{#            </div>#}
{#        </div>#}
{#    </div>#}
{#    <script>#}
{#        var imported_courses = [];#}
{#        var imported_term = "{{ term }}";#}
{#        var csrf_token = '{{ csrf_token }}';#}
{#        {% if courses and term %}#}
{#            {% for course in courses %}#}
{#                imported_courses.push("{{ course }}");#}
{#            {% endfor %}#}
{#        {% endif %}#}
{#    </script>#}
{#    <script async src="{% static "js/plan_schedules.min.js" %}"#}
{#            type="text/javascript"></script>#}
{##}
{#{% endblock %}#}
